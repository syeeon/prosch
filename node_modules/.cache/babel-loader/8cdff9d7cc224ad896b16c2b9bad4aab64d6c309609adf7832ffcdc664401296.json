{"ast":null,"code":"import _regeneratorRuntime from\"/Users/syeeon/Desktop/prosch/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/syeeon/Desktop/prosch/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/syeeon/Desktop/prosch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{BrowserRouter,Routes,Route,Link}from'react-router-dom';import'styles/page/login.css';import Header from'components/Header';import Footer from'components/Footer';import{signInWithEmailAndPassword,onAuthStateChanged,signOut,getAuth,updatePassword}from\"firebase/auth\";import{auth}from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),loginEmail=_useState2[0],setLoginEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),loginPassword=_useState4[0],setLoginPassword=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var auth2=getAuth();// üî• 5\nvar currentUser=auth2.currentUser;// console.log(currentUser);\nuseEffect(function(){onAuthStateChanged(auth,function(currentUser){// üî• 3\nsetUser(currentUser);});},[user]);console.log(user);var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signInWithEmailAndPassword(auth,loginEmail,loginPassword);case 3:_user=_context.sent;console.log(_user);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function login(){return _ref.apply(this,arguments);};}();var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return signOut(auth);case 2:case\"end\":return _context2.stop();}},_callee2);}));return function logout(){return _ref2.apply(this,arguments);};}();// üî• 4\nfunction ch_bg(){document.querySelector('.body').style.backgroundImage=\"url(img/login/login_on.jpg)\";};return/*#__PURE__*/_jsx(\"div\",{className:\"body\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"login_box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBC18\\uAC11\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"legend\",{className:\"hide\",children:\"Porsche Login\"}),/*#__PURE__*/_jsx(\"label\",{for:\"u_id\",className:\"id_txt\",children:\"Porsche ID(\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"login_input\",id:\"email\",name:\"email\",onChange:function onChange(event){setLoginEmail(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{for:\"pwd\",className:\"id_txt\",children:\"\\uC554\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"login_input\",id:\"pwd\",name:\"pwd\",onChange:function onChange(event){setLoginPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"p\",{id:\"err_id\",className:\"err_txt\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"id_btn\",onClick:function onClick(){login();ch_bg();},children:\"\\uC9C0\\uAE08 \\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"line\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"join_txt\",children:[/*#__PURE__*/_jsx(Link,{to:\"join\",children:\"\\uC9C0\\uAE08 \\uB4F1\\uB85D\\uD558\\uC138\\uC694\"}),\", Porsche\\uC758 \\uB514\\uC9C0\\uD138 \\uC138\\uC0C1\\uC744 \\uC54C\\uC544\\uBCF4\\uC138\\uC694.\"]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"forget_pwd\",children:\"\\uC554\\uD638\\uB97C \\uC78A\\uC5B4\\uBC84\\uB9AC\\uC168\\uB098\\uC694?\"}),/*#__PURE__*/_jsx(\"h4\",{children:\" User Logged In: \"}),user===null||user===void 0?void 0:user.email,/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\" Sign Out \"})]})});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Link","Header","Footer","signInWithEmailAndPassword","onAuthStateChanged","signOut","getAuth","updatePassword","auth","Login","loginEmail","setLoginEmail","loginPassword","setLoginPassword","user","setUser","auth2","currentUser","console","log","login","message","logout","ch_bg","document","querySelector","style","backgroundImage","event","target","value","email"],"sources":["/Users/syeeon/Desktop/prosch/src/page/login.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport {BrowserRouter, Routes, Route, Link} from 'react-router-dom' \r\n\r\nimport 'styles/page/login.css';\r\n\r\nimport Header from 'components/Header'\r\nimport Footer from 'components/Footer'\r\n\r\nimport {\r\n    signInWithEmailAndPassword,\t\r\n    onAuthStateChanged,\t\t\t\r\n    signOut,\t\t\t\t\t\t\r\n    getAuth,\t\t\t\t\t\t\r\n    updatePassword,\t\t\t\t\r\n  } from \"firebase/auth\";\r\n  import { auth } from \"../firebase\";\r\n\r\nfunction Login() {\r\n\r\n    const [loginEmail, setLoginEmail] = useState(\"\");\r\n    const [loginPassword, setLoginPassword] = useState(\"\");\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n    const auth2 = getAuth(); // üî• 5\r\n    const currentUser = auth2.currentUser;\r\n    // console.log(currentUser);\r\n  \r\n    useEffect(() => {\r\n        onAuthStateChanged(auth, (currentUser) => {  // üî• 3\r\n        setUser(currentUser);\r\n    });\r\n    }, [user]);\r\n\r\n    console.log(user);\r\n\r\n    const login = async () => {  // üî• 2\r\n        try {\r\n          const user = await signInWithEmailAndPassword(auth, loginEmail, loginPassword);\r\n          console.log(user);\r\n        } catch (error) {\r\n          console.log(error.message);\r\n        }\r\n      };\r\n      const logout = async () => { await signOut(auth); };   // üî• 4\r\n\r\n      function ch_bg(){\r\n        document.querySelector('.body').style.backgroundImage=\"url(img/login/login_on.jpg)\"\r\n    };\r\n    \r\n  return (\r\n      <div className='body'>\r\n          <section className=\"login_box\">\r\n          <h2>Î∞òÍ∞ëÏäµÎãàÎã§.</h2>\r\n                  <legend className=\"hide\">Porsche Login</legend>\r\n                  <label for=\"u_id\" className=\"id_txt\">Porsche ID(Ïù¥Î©îÏùº Ï£ºÏÜå)</label>\r\n                  <input type=\"email\" className=\"login_input\" id=\"email\" name=\"email\" onChange={(event) => { setLoginEmail(event.target.value); }}/>\r\n                  <label for=\"pwd\" className=\"id_txt\">ÏïîÌò∏</label>\r\n                  <input type=\"password\" className=\"login_input\" id=\"pwd\" name=\"pwd\" onChange={(event) => { setLoginPassword(event.target.value); }}/>\r\n              <p id=\"err_id\" className=\"err_txt\"></p>\r\n              <button type=\"submit\" className=\"id_btn\" onClick={() => {\r\n                login();\r\n                ch_bg()\r\n              }}>ÏßÄÍ∏à Î°úÍ∑∏Ïù∏</button>\r\n      \r\n      \r\n          <hr className=\"line\" />\r\n      \r\n          <p className=\"join_txt\">\r\n              <Link to=\"join\">ÏßÄÍ∏à Îì±Î°ùÌïòÏÑ∏Ïöî</Link>\r\n              , PorscheÏùò ÎîîÏßÄÌÑ∏ ÏÑ∏ÏÉÅÏùÑ ÏïåÏïÑÎ≥¥ÏÑ∏Ïöî.\r\n          </p>\r\n          <a href=\"#\" className=\"forget_pwd\">ÏïîÌò∏Î•º ÏûäÏñ¥Î≤ÑÎ¶¨ÏÖ®ÎÇòÏöî?</a>\r\n\r\n          <h4> User Logged In: </h4>\r\n        {user?.email}\r\n      <button onClick={logout}> Sign Out </button>\r\n          </section>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}