{"ast":null,"code":"var _jsxFileName = \"/Users/syeeon/Desktop/prosch/src/page/login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport 'styles/page/login.css';\nimport 'styles/responsive/reLogin.css';\nimport MyPage from 'mypgae.';\nimport { signInWithEmailAndPassword, onAuthStateChanged, signOut, getAuth, updatePassword } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [loginEmail, setLoginEmail] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [user, setUser] = useState({});\n  const auth2 = getAuth();\n  const currentUser = auth2.currentUser;\n  // console.log(currentUser);\n\n  useEffect(() => {\n    onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n    });\n  }, [user]);\n  console.log(user);\n  const navigate = useNavigate();\n  const login = async () => {\n    try {\n      const user = await signInWithEmailAndPassword(auth, loginEmail, loginPassword);\n      alert(\"로그인에 성공했습니다.\");\n      navigate('/');\n      console.log(loginEmail);\n    } catch (error) {\n      alert(\"등록된 정보가 없습니다.\");\n    }\n  };\n  const logout = async () => {\n    await signOut(auth);\n  };\n  function ch_bg() {\n    document.querySelector('.body').style.backgroundImage = \"url(img/login/login_on.jpg)\";\n  }\n  ;\n  const [emailValid, setEmailValid] = useState(false);\n  const [pwValid, setPwValid] = useState(false);\n  const handleEmail = e => {\n    setLoginEmail(e.target.value);\n    const regex = /^(([^<>()\\[\\].,;:\\s@\"]+(\\.[^<>()\\[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/i;\n    if (regex.test(e.target.value)) {\n      setEmailValid(true);\n    } else {\n      setEmailValid(false);\n    }\n  };\n  const handlePw = e => {\n    setLoginPassword(e.target.value);\n    const regex = /^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\\\(\\\\)\\-_=+])(?!.*[^a-zA-z0-9$`~!@$!%*#^?&\\\\(\\\\)\\-_=+]).{8,20}$/;\n    if (regex.test(e.target.value)) {\n      setPwValid(true);\n    } else {\n      setPwValid(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body container\",\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"login_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uBC18\\uAC11\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"legend\", {\n        className: \"hide\",\n        children: \"Porsche Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"u_id\",\n        className: \"id_txt\",\n        children: \"Porsche ID(\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        className: \"login_input\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"porsche@gmail.com\",\n        value: loginEmail,\n        onChange: handleEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"err_message\",\n        className: \"err_txt\",\n        children: !emailValid && loginEmail.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uC62C\\uBC14\\uB978 \\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"pwd\",\n        className: \"id_txt\",\n        children: \"\\uC554\\uD638\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"login_input\",\n        id: \"pwd\",\n        name: \"pwd\",\n        placeholder: \"\\uC601\\uBB38, \\uC22B\\uC790, \\uD2B9\\uC218\\uBB38\\uC790 \\uD3EC\\uD568 8\\uC790 \\uC774\\uC0C1\",\n        onChange: handlePw\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"err_message\",\n        className: \"err_txt\",\n        children: !pwValid && loginPassword.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uC601\\uBB38, \\uC22B\\uC790, \\uD2B9\\uC218\\uBB38\\uC790 \\uD3EC\\uD568 8\\uC790 \\uC774\\uC0C1 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"id_btn\",\n        onClick: () => {\n          ch_bg();\n          login();\n        },\n        children: \"\\uC9C0\\uAE08 \\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"join_txt\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/join\",\n          children: \"\\uC9C0\\uAE08 \\uB4F1\\uB85D\\uD558\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), \", Porsche\\uC758 \\uB514\\uC9C0\\uD138 \\uC138\\uC0C1\\uC744 \\uC54C\\uC544\\uBCF4\\uC138\\uC694.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        className: \"forget_pwd\",\n        children: \"\\uC554\\uD638\\uB97C \\uC78A\\uC5B4\\uBC84\\uB9AC\\uC168\\uB098\\uC694?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \" User Logged In: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this), user === null || user === void 0 ? void 0 : user.email, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \" Sign Out \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 7\n  }, this);\n}\n_s(Login, \"1b5Q3p/QSRc1YMlT3JjLkjjY0bI=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","MyPage","signInWithEmailAndPassword","onAuthStateChanged","signOut","getAuth","updatePassword","auth","Login","loginEmail","setLoginEmail","loginPassword","setLoginPassword","user","setUser","auth2","currentUser","console","log","navigate","login","alert","error","logout","ch_bg","document","querySelector","style","backgroundImage","emailValid","setEmailValid","pwValid","setPwValid","handleEmail","e","target","value","regex","test","handlePw","length","email"],"sources":["/Users/syeeon/Desktop/prosch/src/page/login.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport 'styles/page/login.css';\r\nimport 'styles/responsive/reLogin.css';\r\n\r\nimport MyPage from 'mypgae.'\r\n\r\nimport {\r\n    signInWithEmailAndPassword,\t\r\n    onAuthStateChanged,\t\t\t\r\n    signOut,\t\t\t\t\t\t\r\n    getAuth,\t\t\t\t\t\t\r\n    updatePassword,\t\t\t\t\r\n  } from \"firebase/auth\";\r\n  import { auth } from \"../firebase\";\r\n\r\nfunction Login() {\r\n\r\n    const [loginEmail, setLoginEmail] = useState(\"\");\r\n    const [loginPassword, setLoginPassword] = useState(\"\");\r\n\r\n    const [user, setUser] = useState({});\r\n    \r\n    const auth2 = getAuth(); \r\n    const currentUser = auth2.currentUser;\r\n    // console.log(currentUser);\r\n    \r\n    useEffect(() => {\r\n      onAuthStateChanged(auth, (currentUser) => { \r\n        setUser(currentUser);\r\n      });\r\n    }, [user]);\r\n    \r\n    console.log(user);\r\n\r\n    const navigate = useNavigate();\r\n    \r\n    const login = async () => {  \r\n      try {\r\n        const user = await signInWithEmailAndPassword(auth, loginEmail, loginPassword);\r\n        alert(\"로그인에 성공했습니다.\")\r\n        navigate('/');\r\n        console.log(loginEmail)\r\n      } catch (error) {\r\n        alert(\"등록된 정보가 없습니다.\")\r\n      }\r\n    };\r\n    const logout = async () => { await signOut(auth); };   \r\n    \r\n    function ch_bg(){\r\n      document.querySelector('.body').style.backgroundImage=\"url(img/login/login_on.jpg)\"\r\n      \r\n    };\r\n    \r\n    const [emailValid, setEmailValid] = useState(false);\r\n    const [pwValid, setPwValid] = useState(false);\r\n\r\n    const handleEmail = (e) => {\r\n      setLoginEmail(e.target.value);\r\n      const regex = \r\n        /^(([^<>()\\[\\].,;:\\s@\"]+(\\.[^<>()\\[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/i;\r\n      if (regex.test(e.target.value)) {\r\n        setEmailValid(true);\r\n      } else {\r\n        setEmailValid(false)\r\n      }\r\n    };\r\n\r\n    const handlePw = (e) => {\r\n      setLoginPassword(e.target.value);\r\n      const regex = \r\n        /^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\\\(\\\\)\\-_=+])(?!.*[^a-zA-z0-9$`~!@$!%*#^?&\\\\(\\\\)\\-_=+]).{8,20}$/;\r\n      if (regex.test(e.target.value)) {\r\n        setPwValid(true);\r\n      } else {\r\n        setPwValid(false)\r\n      }\r\n    };\r\n  return (\r\n      <div className='body container'>\r\n          <section className=\"login_box\">\r\n            <h2>반갑습니다.</h2>\r\n              <legend className=\"hide\">Porsche Login</legend>\r\n              <label htmlFor=\"u_id\" className=\"id_txt\">Porsche ID(이메일 주소)</label>\r\n              <input \r\n                type=\"email\" \r\n                className=\"login_input\" \r\n                id=\"email\" \r\n                name=\"email\" \r\n                placeholder=\"porsche@gmail.com\" \r\n                value={loginEmail}\r\n                onChange={handleEmail}/>\r\n              <div id=\"err_message\" className=\"err_txt\">\r\n                {!emailValid && loginEmail.length > 0 && (\r\n                  <div>올바른 이메일을 입력해주세요.</div>\r\n                )}\r\n              </div>\r\n              <label htmlFor=\"pwd\" className=\"id_txt\">암호</label>\r\n              <input \r\n                type=\"password\" \r\n                className=\"login_input\" \r\n                id=\"pwd\" \r\n                name=\"pwd\" \r\n                placeholder=\"영문, 숫자, 특수문자 포함 8자 이상\"\r\n                onChange={handlePw}/> \r\n              <div id=\"err_message\" className=\"err_txt\">\r\n                {!pwValid && loginPassword.length > 0 && (\r\n                  <div>영문, 숫자, 특수문자 포함 8자 이상 입력해주세요.</div>\r\n                )}\r\n              </div>\r\n              <button type=\"submit\" className=\"id_btn\" onClick={() => {\r\n                ch_bg()\r\n                login();\r\n              }}>지금 로그인</button>\r\n            <hr className=\"line\" />\r\n            <p className=\"join_txt\">\r\n            <Link to=\"/join\">지금 등록하세요</Link>\r\n              , Porsche의 디지털 세상을 알아보세요.\r\n            </p>\r\n            <a href=\"#\" className=\"forget_pwd\">암호를 잊어버리셨나요?</a>\r\n            <h4> User Logged In: </h4>\r\n            {user?.email}\r\n            <button onClick={logout}> Sign Out </button>\r\n          </section>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}